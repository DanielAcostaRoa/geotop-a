{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jo/software-projects/geotop-a/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jo/software-projects/geotop-a/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/jo/software-projects/geotop-a/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";// @material-ui/core components\nimport{makeStyles}from\"@material-ui/core/styles\";import classNames from\"classnames\";import{db}from'../../ConfigFirebase';// core components\nimport Header from\"../../components/Header/Header.js\";import Footer from\"../../components/Footer/Footer.js\";import GridContainer from\"../../components/Grid/GridContainer.js\";import GridItem from\"../../components/Grid/GridItem.js\";import Button from\"../../components/CustomButtons/Button.js\";import HeaderLinks from\"../../components/Header/HeaderLinks.js\";import Parallax from\"../../components/Parallax/Parallax.js\";import styles from\"../../assets/jss/material-kit-react/views/landingPage.js\";// Backgroud image\nimport backgroundImageHome from'../../assets/img/images/img2.jpg';// Sections for this page\nimport LeftMenuSection from\"./Sections/LeftMenuSection.js\";var dashboardRoutes=[];var useStyles=makeStyles(styles);export default function PreviousTalksPage(){var classes=useStyles();var example={abstract:'Descripcion',date:'fecha dada',speaker:'Pablo Meré',title:'DNA topology',video:'https://www.youtube.com/embed/0EqHqPvXcMU',keywords:['DNA','subject']};var example2={abstract:'Descripcion 2',date:'fecha dada 2',speaker:'Pablo Meré 2',title:'DNA topology 2',video:'https://www.youtube.com/embed/zs8zmeWzC4M',keywords:['DNA 2','subject 2']};var month=new Array();month[0]=\"January\";month[1]=\"February\";month[2]=\"March\";month[3]=\"April\";month[4]=\"May\";month[5]=\"June\";month[6]=\"July\";month[7]=\"August\";month[8]=\"September\";month[9]=\"October\";month[10]=\"November\";month[11]=\"December\";var speakers_aux={};var seasons_aux={};var _useState=useState({}),_useState2=_slicedToArray(_useState,2),seasons=_useState2[0],setSeasons=_useState2[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.collection(\"speakers\").get().then(function(querySnapshot){querySnapshot.forEach(function(doc){var idSpeaker=doc.id;var mi=doc.data().middle_initial;speakers_aux[idSpeaker]=doc.data().name+\" \"+(mi!=null?mi:\"\")+\" \"+doc.data().surname;});//alert(\"Carga de speakers exitosa\")\n}).catch(function(error){alert(\"Cannot load some speaker\");});case 2:_context.next=4;return db.collection(\"talks\").orderBy(\"date\",\"desc\").get().then(function(querySnapshot){querySnapshot.forEach(function(doc){if(doc.data().date.toDate()>new Date()){return;}var sea=doc.data().season;if(!(sea in seasons_aux)){seasons_aux[sea]=[];}var speakerID=doc.data().speaker;var date=doc.data().date.toDate();seasons_aux[sea].push({speakerID:speakerID,speaker:speakers_aux[speakerID],title:doc.data().title,keywords:doc.data().keywords,date:month[date.getMonth()]+\" \"+date.getDate().toString()+\", \"+date.getFullYear().toString(),abstract:doc.data().abstract,video:doc.data().video});//alert(speakerID)\n});}).catch(function(error){alert(error);});case 4://alert(seasons_aux['SPRING 2020'][0].title);\nsetSeasons(seasons_aux);case 5:case\"end\":return _context.stop();}}},_callee);})),[]);var _useState3=useState({'FALL 2020':[example2,example,example2],'SUMMER 2020':[example,example2,example,example2,example],'SPRING 2020':[example2,example,example2],'FALL 2019':[example,example2,example,example2,example],'SPRING 2019':[example2,example,example2],'FALL 2018':[example,example2,example,example2,example]}),_useState4=_slicedToArray(_useState3,2),previousTalks=_useState4[0],setPreviousTalks=_useState4[1];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{color:\"blue\",routes:dashboardRoutes,brand:\"Seminar GEOTOP-A\",rightLinks:/*#__PURE__*/_jsx(HeaderLinks,{}),fixed:true,changeColorOnScroll:{height:400,color:\"white\"}//{...rest}\n}),/*#__PURE__*/_jsx(Parallax,{filter:true,image:backgroundImageHome,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsxs(GridItem,{xs:12,sm:12,md:6,children:[/*#__PURE__*/_jsx(\"h1\",{className:classes.title,children:\"Previous talks\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Find our previous talks.\"}),/*#__PURE__*/_jsx(\"br\",{})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:classNames(classes.main,classes.mainRaised),children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(LeftMenuSection,{previousTalks:seasons})})}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["C:/Users/jo/software-projects/geotop-a/src/views/PreviousTalksPage/PreviousTalksPage.js"],"names":["React","useEffect","useState","makeStyles","classNames","db","Header","Footer","GridContainer","GridItem","Button","HeaderLinks","Parallax","styles","backgroundImageHome","LeftMenuSection","dashboardRoutes","useStyles","PreviousTalksPage","classes","example","abstract","date","speaker","title","video","keywords","example2","month","Array","speakers_aux","seasons_aux","seasons","setSeasons","collection","get","then","querySnapshot","forEach","doc","idSpeaker","id","mi","data","middle_initial","name","surname","catch","error","alert","orderBy","toDate","Date","sea","season","speakerID","push","getMonth","getDate","toString","getFullYear","previousTalks","setPreviousTalks","height","color","container","main","mainRaised"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport classNames from \"classnames\";\r\n\r\nimport {db} from '../../ConfigFirebase';\r\n\r\n// core components\r\nimport Header from \"../../components/Header/Header.js\";\r\nimport Footer from \"../../components/Footer/Footer.js\";\r\nimport GridContainer from \"../../components/Grid/GridContainer.js\";\r\nimport GridItem from \"../../components/Grid/GridItem.js\";\r\nimport Button from \"../../components/CustomButtons/Button.js\";\r\nimport HeaderLinks from \"../../components/Header/HeaderLinks.js\";\r\nimport Parallax from \"../../components/Parallax/Parallax.js\";\r\n\r\n\r\nimport styles from \"../../assets/jss/material-kit-react/views/landingPage.js\";\r\n\r\n// Backgroud image\r\nimport backgroundImageHome from '../../assets/img/images/img2.jpg';\r\n\r\n// Sections for this page\r\nimport LeftMenuSection from \"./Sections/LeftMenuSection.js\";\r\n\r\nconst dashboardRoutes = [];\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function PreviousTalksPage(){\r\n    const classes = useStyles();\r\n\r\n    const example = {\r\n        abstract: 'Descripcion',\r\n        date : 'fecha dada',\r\n        speaker: 'Pablo Meré',\r\n        title: 'DNA topology',\r\n        video: 'https://www.youtube.com/embed/0EqHqPvXcMU',\r\n        keywords: ['DNA','subject']\r\n    }\r\n    const example2 = {\r\n        abstract: 'Descripcion 2',\r\n        date : 'fecha dada 2',\r\n        speaker: 'Pablo Meré 2',\r\n        title: 'DNA topology 2',\r\n        video: 'https://www.youtube.com/embed/zs8zmeWzC4M',\r\n        keywords: ['DNA 2','subject 2']\r\n    }\r\n\r\n    var month = new Array();\r\n    month[0] = \"January\";\r\n    month[1] = \"February\";\r\n    month[2] = \"March\";\r\n    month[3] = \"April\";\r\n    month[4] = \"May\";\r\n    month[5] = \"June\";\r\n    month[6] = \"July\";\r\n    month[7] = \"August\";\r\n    month[8] = \"September\";\r\n    month[9] = \"October\";\r\n    month[10] = \"November\";\r\n    month[11] = \"December\";\r\n\r\n    var speakers_aux = {};\r\n    var seasons_aux = {};\r\n\r\n    const [seasons, setSeasons] = useState({});\r\n\r\n    useEffect(async()=>{\r\n        await db.collection(\"speakers\").get()\r\n        .then(function(querySnapshot){\r\n            querySnapshot.forEach(function(doc){\r\n                var idSpeaker = doc.id;\r\n                var mi = doc.data().middle_initial;\r\n\r\n                speakers_aux[idSpeaker] = doc.data().name + \" \" + \r\n                    (mi != null ? mi : \"\") + \" \" + doc.data().surname;\r\n            });\r\n            //alert(\"Carga de speakers exitosa\")\r\n        })\r\n        .catch(function(error){\r\n            alert(\"Cannot load some speaker\");\r\n        });\r\n\r\n        await db.collection(\"talks\").orderBy(\"date\", \"desc\")\r\n        .get()\r\n        .then(function(querySnapshot){\r\n            querySnapshot.forEach(function(doc){\r\n                if(doc.data().date.toDate() > new Date()){\r\n                    return;\r\n                }\r\n\r\n                var sea = doc.data().season;\r\n                if(!(sea in seasons_aux)){\r\n                    seasons_aux[sea] = []\r\n                }\r\n                \r\n                const speakerID = doc.data().speaker;\r\n                const date = doc.data().date.toDate();\r\n                seasons_aux[sea].push(\r\n                    {\r\n                        speakerID: speakerID,\r\n                        speaker: speakers_aux[speakerID],\r\n                        title: doc.data().title,\r\n                        keywords: doc.data().keywords,\r\n                        date: month[date.getMonth()] + \" \" + date.getDate().toString() + \", \" + date.getFullYear().toString(),\r\n                        abstract: doc.data().abstract,\r\n                        video: doc.data().video,\r\n                    }\r\n                );\r\n                //alert(speakerID)\r\n            });\r\n        })\r\n        .catch(function(error){\r\n            alert(error);\r\n        });\r\n        //alert(seasons_aux['SPRING 2020'][0].title);\r\n        setSeasons(seasons_aux);\r\n    },[]);\r\n\r\n    const[previousTalks, setPreviousTalks] = useState({\r\n        'FALL 2020': [example2, example, example2],\r\n        'SUMMER 2020': [example, example2, example, example2, example],\r\n        'SPRING 2020': [example2, example, example2],\r\n        'FALL 2019': [example, example2, example, example2, example],\r\n        'SPRING 2019': [example2, example, example2],\r\n        'FALL 2018': [example, example2, example, example2, example],\r\n    });\r\n\r\n    return(\r\n        <div>\r\n            <Header\r\n                color=\"blue\"\r\n                routes={dashboardRoutes}\r\n                brand=\"Seminar GEOTOP-A\"\r\n                rightLinks={<HeaderLinks />}\r\n                fixed\r\n                changeColorOnScroll={{\r\n                height: 400,\r\n                color: \"white\"\r\n                }}\r\n                //{...rest}\r\n            />\r\n            <Parallax filter image={backgroundImageHome}>\r\n                <div className={classes.container}>\r\n                    <GridContainer>\r\n                        <GridItem xs={12} sm={12} md={6}>\r\n                            <h1 className={classes.title}>Previous talks</h1>\r\n                            <h4>\r\n                                Find our previous talks.\r\n                            </h4>\r\n                            <br />\r\n                        </GridItem>\r\n                    </GridContainer>\r\n                </div>\r\n            </Parallax>\r\n            <div className={classNames(classes.main, classes.mainRaised)}>\r\n                <div className={classes.container}>\r\n                <LeftMenuSection previousTalks={seasons}/>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}